# Инструкция по тестированию MVC версии

## Запуск проекта

```bash
# Остановить старые контейнеры
docker-compose down

# Запустить с пересборкой
docker-compose up --build
```

## Проверка работоспособности

1. **Откройте браузер**: http://localhost:8080

2. **Регистрация**:
   - Вас перенаправит на /auth/login
   - Нажмите "Зарегистрируйтесь"
   - Введите логин и пароль
   - После регистрации попадёте на главную

3. **Главная страница** (http://localhost:8080):
   - Должны отображаться системные и пользовательские игры
   - Работают лайки/дизлайки
   - CSS должен загружаться

4. **Добавление игры** (http://localhost:8080/game/add):
   - Заполните форму
   - Загрузите ZIP с игрой
   - Игра должна добавиться

5. **Профиль** (http://localhost:8080/profile):
   - Отображаются ваши игры
   - Можно редактировать и удалять игры
   - Отображаются результаты

6. **Игра** (http://localhost:8080/game/play/{id}):
   - Игра загружается в iframe
   - Работают комментарии
   - Работает рейтинг
   - Можно сохранить результат

## Проверка логов

```bash
# Логи веб-сервера
docker-compose logs -f web

# Логи БД
docker-compose logs -f db
```

## Возможные проблемы

### Стили не загружаются
- Проверьте что контейнеры запущены: `docker-compose ps`
- Проверьте логи: `docker-compose logs web`
- Убедитесь что volumes смонтированы правильно

### Ошибки подключения к БД
- Подождите пока БД инициализируется (10-15 сек)
- Проверьте healthcheck: `docker-compose ps`

### Игры не добавляются
- Проверьте права на папку repository
- Проверьте логи: `docker-compose logs web`

## Структура URL

- `/` - Главная (список игр)
- `/auth/login` - Вход/регистрация
- `/auth/logout` - Выход
- `/profile` - Профиль
- `/game/add` - Добавить игру
- `/game/play/{id}` - Играть
- `/game/edit/{id}` - Редактировать
- `/api/save-result` - API сохранения результата

## Отладка

Если что-то не работает, проверьте:

1. Контейнеры запущены: `docker-compose ps`
2. Логи веб-сервера: `docker-compose logs web`
3. Логи БД: `docker-compose logs db`
4. Откройте DevTools в браузере (F12) и проверьте:
   - Console (ошибки JS)
   - Network (загрузка ресурсов)
   - Application (cookies/session)
